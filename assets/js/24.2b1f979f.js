(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{279:function(t,s,n){t.exports=n.p+"assets/img/image9.48d32078.png"},280:function(t,s,n){t.exports=n.p+"assets/img/image10.91a30027.png"},344:function(t,s,n){"use strict";n.r(s);var e=n(10),a=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"web-mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#web-mysql"}},[t._v("#")]),t._v(" Web + MySQL")]),t._v(" "),s("p",[t._v("In this document, I will demonstrate how to create a production-ready web project and provide a brief introduction to the project. The project uses MySQL as the database and Docker Compose to manage containers.")]),t._v(" "),s("h2",{attrs:{id:"install-the-gone-tool"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-the-gone-tool"}},[t._v("#")]),t._v(" Install the gone Tool")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("go "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" github.com/gone-io/gone/tools/gone@latest\n")])])]),s("p",[t._v("For more information about the gone command, refer to: "),s("a",{attrs:{href:"https://goner.fun/references/gone-tool.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gone Tool"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"create-a-project-using-the-gone-command"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-a-project-using-the-gone-command"}},[t._v("#")]),t._v(" Create a Project Using the gone Command")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("gone create "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v(" web+mysql web-mysql-docker\n")])])]),s("p",[t._v("The above command will create a directory named web-mysql-docker in the current directory.")]),t._v(" "),s("h2",{attrs:{id:"compile-and-run"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#compile-and-run"}},[t._v("#")]),t._v(" Compile And Run")]),t._v(" "),s("blockquote",[s("p",[t._v("Ensure you have make installed; if not, please install it first.\nEnsure you have docker and docker compose installed; if not, refer to: https://docs.docker.com/engine/install/.")])]),t._v(" "),s("p",[t._v("Execute the following commands:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Enter the project directory")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" web-mysql-docker\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Generate the Priest functions: https://goner.fun/guide/auto-gen-priest.html")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" gone\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Start the MySQL service")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" compose up "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" mysql\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Compile and run")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" run\n")])])]),s("p",[t._v("The logs should display as follows:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("âžœ  web-mysql-docker "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" run\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" gone\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" install-gone\ngo "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" github.com/gone-io/gone/tools/gone@latest\ngo mod tidy\ngo generate ./"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\ngo run cmd/server/main.go\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.574"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive github.com/gone-io/gone/heaven\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.574"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive github.com/gone-io/gone/cemetery\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.574"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive github.com/gone-io/gone/goner/tracer/tracer\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.574"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive github.com/gone-io/gone/goner/logrus/logger\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.574"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive github.com/gone-io/gone/goner/config/config\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.574"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive github.com/gone-io/gone/goner/config/propertiesConfigure\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.574"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive github.com/gone-io/gone/goner/logrus/logger\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.574"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Use Env: "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("local")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.574"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("WARNING"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("properties: /var/folders/jv/rn9b7nhs2ls1n1j_lqj005r80000gn/T/go-build521033176/b001/exe/config/default.properties not found. skipping\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.574"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("WARNING"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("properties: /var/folders/jv/rn9b7nhs2ls1n1j_lqj005r80000gn/T/go-build521033176/b001/exe/config/local.properties not found. skipping\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.575"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive github.com/gone-io/gone/goner/config/config\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.575"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive github.com/gone-io/gone/goner/config/propertiesConfigure\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.575"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive github.com/gone-io/gone/goner/xorm/engine\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.575"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive github.com/gone-io/gone/goner/cmux/server\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.575"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive github.com/gone-io/gone/goner/gin/proxy\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.575"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive github.com/gone-io/gone/goner/gin/router\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.575"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive github.com/gone-io/gone/goner/gin/sysProcessor\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.575"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive github.com/gone-io/gone/goner/gin/responser\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.575"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive github.com/gone-io/gone/goner/gin/server\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.575"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive github.com/gone-io/gone/goner/gin/httpInjector\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.575"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive web-mysql/internal/controller/demoController\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.575"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive web-mysql/internal/middleware/AuthorizeMiddleware\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.575"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive web-mysql/internal/middleware/PubMiddleware\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.575"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive web-mysql/internal/module/demo/db\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.575"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive web-mysql/internal/module/demo/demoService\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.575"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive web-mysql/internal/router/authRouter\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.575"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Init"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("Revive web-mysql/internal/router/pubRouter\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("GIN-debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("WARNING"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Running "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"debug"')]),t._v(" mode. Switch to "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"release"')]),t._v(" mode "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" production.\n - using env:   "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("GIN_MODE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("release\n - using code:  gin.SetMode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gin.ReleaseMode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("GIN-debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" GET    /api/demo/show            --"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" github.com/gone-io/gone/goner/gin."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".Proxy."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".proxyOne.func5 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" handlers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("GIN-debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" GET    /api/demo2/show           --"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" github.com/gone-io/gone/goner/gin."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".Proxy."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".proxyOne.func5 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" handlers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("GIN-debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" GET    /api/demo2/error          --"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" github.com/gone-io/gone/goner/gin."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".Proxy."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".proxyOne.func5 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" handlers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("GIN-debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" GET    /api/demo2/echo           --"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" github.com/gone-io/gone/goner/gin."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".Proxy."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".proxyOne.func5 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" handlers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("GIN-debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" GET    /api/inject-query         --"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" github.com/gone-io/gone/goner/gin."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".Proxy."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".proxyOne.func8 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" handlers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("GIN-debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" GET    /api/inject/:key          --"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" github.com/gone-io/gone/goner/gin."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".Proxy."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".proxyOne.func8 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" handlers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("GIN-debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" POST   /api/inject-http-body     --"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" github.com/gone-io/gone/goner/gin."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".Proxy."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".proxyOne.func8 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" handlers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("GIN-debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" GET    /api/inject-http-struct   --"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" github.com/gone-io/gone/goner/gin."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".Proxy."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".proxyOne.func8 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" handlers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("GIN-debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" POST   /api/users                --"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" github.com/gone-io/gone/goner/gin."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".Proxy."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".proxyOne.func8 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" handlers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("GIN-debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" GET    /api/users                --"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" github.com/gone-io/gone/goner/gin."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".Proxy."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".proxyOne.func8 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" handlers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("GIN-debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" GET    /api/users/page           --"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" github.com/gone-io/gone/goner/gin."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".Proxy."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".proxyOne.func8 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" handlers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("GIN-debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" GET    /api/users/:id            --"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" github.com/gone-io/gone/goner/gin."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".Proxy."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".proxyOne.func8 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" handlers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("GIN-debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" PUT    /api/users/:id            --"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" github.com/gone-io/gone/goner/gin."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".Proxy."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".proxyOne.func8 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" handlers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("GIN-debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" DELETE /api/users/:id            --"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" github.com/gone-io/gone/goner/gin."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".Proxy."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("*proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".proxyOne.func8 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" handlers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.576"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("/Users/jim/go/pkg/mod/github.com/gone-io/gone@v0.3.1/goner/gin/server.go:46"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("Server Listen At :8080\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.576"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("/Users/jim/go/pkg/mod/xorm.io/xorm@v1.3.2/log/logger_context.go:90"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("PING DATABASE mysql\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.585"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("/Users/jim/go/pkg/mod/github.com/gone-io/gone@v0.3.1/cemetery.go:329"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("Revive "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Anonymous Goner"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-05-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":42:03.585"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("/Users/jim/works/gone-io/web-app/demo/web-mysql-docker/cmd/server/main.go:28"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("before start\n")])])]),s("h2",{attrs:{id:"api-testing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-testing"}},[t._v("#")]),t._v(" API Testing")]),t._v(" "),s("p",[t._v("I'm going to test using the built-in HTTP Request plugin in Goland. Open the project in Goland, navigate to the file "),s("code",[t._v("tests/api/user.http")]),t._v(", and select the "),s("code",[t._v("dev")]),t._v(" environment to run, as shown below:")]),t._v(" "),s("p",[s("img",{attrs:{src:n(279),alt:"Run"}})]),t._v(" "),s("p",[t._v("Execution Result:\n"),s("img",{attrs:{src:n(280),alt:"Result"}})]),t._v(" "),s("h2",{attrs:{id:"project-brief-introduction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#project-brief-introduction"}},[t._v("#")]),t._v(" Project Brief Introduction")]),t._v(" "),s("h3",{attrs:{id:"directory-structure"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#directory-structure"}},[t._v("#")]),t._v(" Directory Structure")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("â”œâ”€â”€ Dockerfile\nâ”œâ”€â”€ Makefile\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ cmd\nâ”‚   â””â”€â”€ server\nâ”‚       â””â”€â”€ main.go "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# File containing the main method of the project")]),t._v("\nâ”œâ”€â”€ config          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Project configuration directory")]),t._v("\nâ”‚   â”œâ”€â”€ default.properties "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Default configuration")]),t._v("\nâ”‚   â”œâ”€â”€ dev.properties     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Development environment configuration")]),t._v("\nâ”‚   â”œâ”€â”€ local.properties   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Local environment configuration")]),t._v("\nâ”‚   â””â”€â”€ prod.properties    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Production environment configuration")]),t._v("\nâ”œâ”€â”€ docker-compose.yaml    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker-compose, defines mysql and web containers")]),t._v("\nâ”œâ”€â”€ go.mod\nâ”œâ”€â”€ internal\nâ”‚   â”œâ”€â”€ controller         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Controller")]),t._v("\nâ”‚   â”‚   â””â”€â”€ demo_ctr.go\nâ”‚   â”œâ”€â”€ interface          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Interface directory")]),t._v("\nâ”‚   â”‚   â”œâ”€â”€ domain         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Domain models")]),t._v("\nâ”‚   â”‚   â”‚   â”œâ”€â”€ demo.go\nâ”‚   â”‚   â”‚   â”œâ”€â”€ page.go\nâ”‚   â”‚   â”‚   â””â”€â”€ user.go\nâ”‚   â”‚   â”œâ”€â”€ entity         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Entity models")]),t._v("\nâ”‚   â”‚   â”‚   â””â”€â”€ User.go\nâ”‚   â”‚   â””â”€â”€ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Service interfaces")]),t._v("\nâ”‚   â”‚       â””â”€â”€ i_demo.go  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Typically one interface per file, file name starts with `i_`, interface name starts with `I`, e.g., `IDemo`")]),t._v("\nâ”‚   â”œâ”€â”€ master.go\nâ”‚   â”œâ”€â”€ middleware         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Middleware directory, can define unified processing logic such as authentication")]),t._v("\nâ”‚   â”‚   â”œâ”€â”€ authorize.go\nâ”‚   â”‚   â””â”€â”€ pub.go\nâ”‚   â”œâ”€â”€ module             "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Module directory")]),t._v("\nâ”‚   â”‚   â””â”€â”€ demo           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Demo module")]),t._v("\nâ”‚   â”‚       â”œâ”€â”€ db.go      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Implementation of demo module's database interface")]),t._v("\nâ”‚   â”‚       â”œâ”€â”€ demo_svc.go "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Demo Service, implementing `service.IDemo` interface")]),t._v("\nâ”‚   â”‚       â”œâ”€â”€ error.go    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Error code definition for the current directory")]),t._v("\nâ”‚   â”‚       â””â”€â”€ i_db.go    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Database interface of the demo module")]),t._v("\nâ”‚   â”œâ”€â”€ pkg                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Public utilities directory")]),t._v("\nâ”‚   â”‚   â””â”€â”€ utils\nâ”‚   â”‚       â””â”€â”€ error.go\nâ”‚   â”œâ”€â”€ priest.go         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Not present when created by gone create, generated by running `make gone`")]),t._v("\nâ”‚   â””â”€â”€ router            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Router directory")]),t._v("\nâ”‚       â”œâ”€â”€ auth_router.go "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Defines authenticated router groups")]),t._v("\nâ”‚       â””â”€â”€ pub_router.go  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Defines unauthenticated router groups")]),t._v("\nâ”œâ”€â”€ scripts                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Script directory, used to store some scripts")]),t._v("\nâ”‚   â””â”€â”€ mysql\nâ”‚       â””â”€â”€ initdb.d       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mysql initdb.d directory, all sql files under this directory will be executed when mysql defined in docker-compose starts for the first time")]),t._v("\nâ”‚           â””â”€â”€ user.sql\nâ””â”€â”€ tests                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Integration test directory")]),t._v("\n    â””â”€â”€ api                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# API test directory")]),t._v("\n        â”œâ”€â”€ demo.http\n        â”œâ”€â”€ http-client.env.json\n        â””â”€â”€ user.http\n")])])]),s("h3",{attrs:{id:"project-features"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#project-features"}},[t._v("#")]),t._v(" Project Features")]),t._v(" "),s("ul",[s("li",[t._v("Ready to use, no additional configuration needed to run")]),t._v(" "),s("li",[t._v("Provides a "),s("code",[t._v("Dockerfile")]),t._v(" for easy deployment to various container environments")]),t._v(" "),s("li",[t._v("Integrated commands like gone, go, docker, and docker compose using Makefile")]),t._v(" "),s("li",[t._v("Automatically generates Priest functions for smoother development")]),t._v(" "),s("li",[t._v("Utilizes the gone framework, incorporating dependency injection")]),t._v(" "),s("li",[t._v("Decoupling through interface usage")]),t._v(" "),s("li",[t._v("Supports configuration writing for different environments")]),t._v(" "),s("li",[t._v("Integrated MySQL database")])]),t._v(" "),s("h3",{attrs:{id:"partial-code-explanation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#partial-code-explanation"}},[t._v("#")]),t._v(" Partial Code Explanation")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// CRUD operations for user data under the demo module, mounted on authRouter for demonstration purposes")]),t._v("\n    ctr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        pubRouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Group")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/users"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("POST")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("in "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Body injection, parses HTTP body into a struct based on contentType, supports json, xml, form-data, x-www-form-urlencoded, etc.")]),t._v("\n            req "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("domain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("User "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`gone:"http,body"`')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ctr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("demoSvc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("CreateUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("in"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GET")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("any"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ctr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("demoSvc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ListUsers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GET")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/page"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("in "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            query domain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PageQuery "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`gone:"http,query"`')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Query injection")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("any"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ctr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("demoSvc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("PageUsers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("in"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GET")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/:id"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("in "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            id "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int64")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`gone:"http,param"`')]),t._v("              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Url parameter injection, injected from the route defined as `:id`")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("any"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ctr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("demoSvc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetUserById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("in"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("PUT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/:id"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("in "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            id  "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int64")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`gone:"http,param"`')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Url parameter injection, injected from the route defined as `:id`")]),t._v("\n            req "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("domain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("User "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`gone:"http,body"`')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Body injection")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ctr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("demoSvc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("UpdateUserById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("in"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" in"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("DELETE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/:id"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("in "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            id "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int64")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`gone:"http,param"`')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Url parameter injection, injected from the route defined as `:id`")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ctr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("demoSvc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("DeleteUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("in"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n")])])]),s("p",[t._v("The above code snippet is taken from the "),s("code",[t._v("internal/controller/demo_ctr.go")]),t._v(" file.")]),t._v(" "),s("h3",{attrs:{id:"http-injection"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http-injection"}},[t._v("#")]),t._v(" HTTP Injection")]),t._v(" "),s("p",[t._v("As observed, "),s("strong",[t._v("Gone")]),t._v(" supports dependency injection on route handling functions. This is achieved by using an anonymous struct as the input parameter of the handling function and marking the struct attributes with special tags.\nThe injection tags used in the above code are:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v('gone:"http,body"')]),t._v(": Body injection, parses HTTP body into a struct based on contentType, supports json, xml, form-data, x-www-form-urlencoded, etc. The injected struct attribute should be of type "),s("strong",[t._v("struct")]),t._v(" or "),s("strong",[t._v("struct pointer")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v('gone:"http,query"')]),t._v(": Query injection, the injected struct attribute can be of type "),s("strong",[t._v("struct")]),t._v(", "),s("strong",[t._v("struct pointer")]),t._v(", "),s("strong",[t._v("string")]),t._v(", "),s("strong",[t._v("Number (int, uint, float64, etc.)")]),t._v(", or "),s("strong",[t._v("Slice of string or Number")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v('gone:"http,param"')]),t._v(": URL parameter injection, injected from the route defined as "),s("code",[t._v(":id")]),t._v(". The injected struct attribute should be of type "),s("strong",[t._v("string")]),t._v(" or "),s("strong",[t._v("Number")]),t._v(".")])]),t._v(" "),s("p",[t._v("Additionally, handling functions also support injection of some special structs or pointers (pointers are recommended):")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("gone.Content")]),t._v(": Request context")]),t._v(" "),s("li",[s("code",[t._v("http.Request")]),t._v(": HTTP request")]),t._v(" "),s("li",[s("code",[t._v("http.Header")]),t._v(": Request header")]),t._v(" "),s("li",[s("code",[t._v("url.Url")]),t._v(": URL")])]),t._v(" "),s("p",[t._v("The framework supports more injection tags and types, please refer to the documentation "),s("a",{attrs:{href:"https://goner.fun/en/references/http-inject.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP Injection"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h3",{attrs:{id:"request-handling-function-parameters"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-handling-function-parameters"}},[t._v("#")]),t._v(" Request Handling Function Parameters")]),t._v(" "),s("p",[t._v("Request handling functions can have the following return formats:")]),t._v(" "),s("ol",[s("li",[t._v("No return parameters")]),t._v(" "),s("li",[t._v("Return a non-"),s("code",[t._v("error")]),t._v(" parameter")]),t._v(" "),s("li",[t._v("Return data and "),s("code",[t._v("error")])])])])}),[],!1,null,null,null);s.default=a.exports}}]);