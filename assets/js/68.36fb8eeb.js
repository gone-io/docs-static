(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{358:function(a,t,e){"use strict";e.r(t);var s=e(10),r=Object(s.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"gone辅助工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gone辅助工具"}},[a._v("#")]),a._v(" gone辅助工具")]),a._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),t("p",[a._v("执行如下命令：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("go "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" github.com/gone-io/gone/tools/gone@latest\n")])])]),t("h2",{attrs:{id:"使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),t("h3",{attrs:{id:"测试是否正常安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试是否正常安装"}},[a._v("#")]),a._v(" 测试是否正常安装")]),a._v(" "),t("p",[a._v("成功安装后，执行"),t("code",[a._v("gone -h")]),a._v("，建获得如下结果：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("➜  demo gone "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v("\nNAME:\n   gone - A new cli application\n\nUSAGE:\n   gone "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("global options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("command")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("command options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("arguments"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\nDESCRIPTION:\n   generate gone code or generate gone app\n\nCOMMANDS:\n   priest   "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${scanPackageDir}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${pkgName}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${funcName}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${outputFilePath}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-w"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n   mock     "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${fromGoFile}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${outGoFile}")]),a._v("\n   create   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-t "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${template}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-m "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${modName}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${appName}")]),a._v("\n   help, h  Shows a list of commands or "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("help")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" one "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("command")]),a._v("\n\nGLOBAL OPTIONS:\n   --help, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v("  show "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("help")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("default: "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("h3",{attrs:{id:"生成项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成项目"}},[a._v("#")]),a._v(" 生成项目")]),a._v(" "),t("p",[t("strong",[a._v("命令格式：")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("gone create "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-t "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${template}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-m "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${modName}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${appName}")]),a._v("\n")])])]),t("p",[t("strong",[a._v("参数说明:")])]),a._v(" "),t("ul",[t("li",[t("code",[a._v("-t")]),a._v(": 指定模板，默认为"),t("code",[a._v("web")]),a._v("，支持的模板类型如下：\n"),t("ul",[t("li",[a._v("web：生成空白的web项目")]),a._v(" "),t("li",[a._v("web+mysql：生成web项目，并集成mysql")])])]),a._v(" "),t("li",[t("code",[a._v("-m")]),a._v(": 指定项目模块名称，默认为项目名")]),a._v(" "),t("li",[t("code",[a._v("appName")]),a._v(": 指定项目名，默认为demo")])]),a._v(" "),t("p",[a._v("例子可以参考"),t("a",{attrs:{href:"https://goner.fun/zh/quick-start/web.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("快速开始#Web 项目"),t("OutboundLink")],1)]),a._v(" "),t("h3",{attrs:{id:"生成priest函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成priest函数"}},[a._v("#")]),a._v(" 生成Priest函数")]),a._v(" "),t("p",[a._v("该命令的作用是扫描代码中的特殊注释"),t("code",[a._v("//go:gone")]),a._v("，生成一个"),t("strong",[a._v("Priest")]),a._v("函数，将其标注的New函数生成的"),t("strong",[a._v("Goner")]),a._v("埋葬到"),t("strong",[a._v("Cemetery")]),a._v("中。")]),a._v(" "),t("blockquote",[t("p",[a._v("关于"),t("strong",[a._v("Priest")]),a._v("函数、"),t("strong",[a._v("Goner")]),a._v("、"),t("strong",[a._v("Cemetery")]),a._v("的详细介绍，请参考"),t("a",{attrs:{href:"https://goner.fun/zh/guide/core-concept.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("Gone的核心概念"),t("OutboundLink")],1),a._v("。")])]),a._v(" "),t("p",[t("strong",[a._v("命令格式：")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("gone priest "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${scanPackageDir}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${pkgName}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${funcName}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${outputFilePath}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-w"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("--stat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])])]),t("p",[t("strong",[a._v("参数说明:")])]),a._v(" "),t("ul",[t("li",[t("code",[a._v("-s")]),a._v(": 指定扫描的包路径，不可缺省")]),a._v(" "),t("li",[t("code",[a._v("-p")]),a._v(": 指定生成代码的包名，不可缺省")]),a._v(" "),t("li",[t("code",[a._v("-f")]),a._v(": 指定生成Priest函数的名称，不可缺省")]),a._v(" "),t("li",[t("code",[a._v("-o")]),a._v(": 指定生成Priest函数的输出文件路径，不可缺省")]),a._v(" "),t("li",[t("code",[a._v("-w")]),a._v(": 监听文件变化，自动生成，默认为"),t("code",[a._v("false")])]),a._v(" "),t("li",[t("code",[a._v("--stat")]),a._v(": 输出统计信息，默认为"),t("code",[a._v("false")])])]),a._v(" "),t("p",[a._v("例子可以参考"),t("a",{attrs:{href:"https://goner.fun/zh/guide/auto-gen-priest.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("自动生成Priest"),t("OutboundLink")],1)]),a._v(" "),t("h3",{attrs:{id:"生成mock代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成mock代码"}},[a._v("#")]),a._v(" 生成Mock代码")]),a._v(" "),t("p",[a._v("该命令用于给工具"),t("strong",[a._v("mockgen")]),a._v("生成的Mock代码进行处理，给mock结构体嵌入"),t("code",[a._v("gone.Flag")]),a._v("，使其mock生成的值为"),t("strong",[a._v("Goner")]),a._v("。")]),a._v(" "),t("p",[t("strong",[a._v("命令格式：")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("gone mock "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${fromGoFile}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${outGoFile}")]),a._v("\n")])])]),t("p",[t("strong",[a._v("参数说明:")])]),a._v(" "),t("ul",[t("li",[t("code",[a._v("-f")]),a._v(": 指定要处理的go文件路径，不可缺省")]),a._v(" "),t("li",[t("code",[a._v("-o")]),a._v(": 指定输出文件路径，不可缺省")])]),a._v(" "),t("p",[a._v("支持管道符号，例如：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("mockgen "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-package")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("gin "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-source")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/cmux/interface.go "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-mock_names")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Server"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("CmuxServer -"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("gone mock "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" cumx_Server_mock_test.go\n")])])]),t("p",[a._v("例子可以参考"),t("a",{attrs:{href:"https://goner.fun/zh/guide/unit-test.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("单元测试"),t("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);