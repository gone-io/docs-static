(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{333:function(t,e,n){"use strict";n.r(e);var s=n(10),a=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"http-injection-instructions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http-injection-instructions"}},[t._v("#")]),t._v(" HTTP Injection Instructions")]),t._v(" "),e("h2",{attrs:{id:"format-of-http-dependency-injection-tags"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#format-of-http-dependency-injection-tags"}},[t._v("#")]),t._v(" Format of HTTP Dependency Injection Tags")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('${attributeName} ${attributeType} gone:"http,${kind}=${key}"\n')])])]),e("p",[t._v("Example:")]),t._v(" "),e("div",{staticClass:"language-go extra-class"},[e("pre",{pre:!0,attrs:{class:"language-go"}},[e("code",[t._v("router"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("GET")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/search"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("in "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    selects "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('`gone:"http,query=select"`')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// The injected value of in.selects will be `[]int{1,2,3}`")]),t._v("\n    fmt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Printf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%v"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" in"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("selects"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("In the above example:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("selects")]),t._v(" is the attribute name.")]),t._v(" "),e("li",[e("code",[t._v("[]int")]),t._v(" is the attribute type.")]),t._v(" "),e("li",[e("code",[t._v("query")]),t._v(" is the injection type.")]),t._v(" "),e("li",[e("code",[t._v("select")]),t._v(" is the injection key.")])]),t._v(" "),e("h2",{attrs:{id:"supported-injection-types-and-response-tags"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#supported-injection-types-and-response-tags"}},[t._v("#")]),t._v(" Supported Injection Types and Response Tags")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Name")]),t._v(" "),e("th",[t._v("Attribute Type "),e("code",[t._v("${attributeType}")])]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Injection Type "),e("code",[t._v("${kind}")])]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Injection Key "),e("code",[t._v("${key}")])]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("strong",[t._v("Context Injection")])]),t._v(" "),e("td",[e("code",[t._v("gone.Context")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(Not recommended) Injects the gin request context object. "),e("code",[t._v("${kind}")]),t._v(" and "),e("code",[t._v("${key}")]),t._v(" are not needed.")])]),t._v(" "),e("tr",[e("td",[e("strong",[t._v("Context Injection")])]),t._v(" "),e("td",[e("code",[t._v("*gone.Context")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(Recommended) Injects the gin request context pointer. "),e("code",[t._v("${kind}")]),t._v(" and "),e("code",[t._v("${key}")]),t._v(" are not needed.")])]),t._v(" "),e("tr",[e("td",[e("strong",[t._v("Request Injection")])]),t._v(" "),e("td",[e("code",[t._v("http.Request")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(Not recommended) Injects the http.Request object. "),e("code",[t._v("${kind}")]),t._v(" and "),e("code",[t._v("${key}")]),t._v(" are not needed.")])]),t._v(" "),e("tr",[e("td",[e("strong",[t._v("Request Injection")])]),t._v(" "),e("td",[e("code",[t._v("*http.Request")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(Recommended) Injects the http.Request pointer. "),e("code",[t._v("${kind}")]),t._v(" and "),e("code",[t._v("${key}")]),t._v(" are not needed.")])]),t._v(" "),e("tr",[e("td",[e("strong",[t._v("URL Injection")])]),t._v(" "),e("td",[e("code",[t._v("url.URL")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(Not recommended) Injects the url.URL. "),e("code",[t._v("${kind}")]),t._v(" and "),e("code",[t._v("${key}")]),t._v(" are not needed.")])]),t._v(" "),e("tr",[e("td",[e("strong",[t._v("URL Injection")])]),t._v(" "),e("td",[e("code",[t._v("*url.URL")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(Recommended) Injects the url.URL pointer. "),e("code",[t._v("${kind}")]),t._v(" and "),e("code",[t._v("${key}")]),t._v(" are not needed.")])]),t._v(" "),e("tr",[e("td",[e("strong",[t._v("Header Injection")])]),t._v(" "),e("td",[e("code",[t._v("http.Header")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(Recommended) Injects the http.Header (request headers). "),e("code",[t._v("${kind}")]),t._v(" and "),e("code",[t._v("${key}")]),t._v(" are not needed.")])]),t._v(" "),e("tr",[e("td",[e("strong",[t._v("Response Injection")])]),t._v(" "),e("td",[e("code",[t._v("gone.ResponseWriter")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Injects the gin.ResponseWriter (used to directly write response data). "),e("code",[t._v("${kind}")]),t._v(" and "),e("code",[t._v("${key}")]),t._v(" are not needed.")])]),t._v(" "),e("tr",[e("td",[e("strong",[t._v("Body Injection")])]),t._v(" "),e("td",[t._v("Struct, Struct Pointer")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("body")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("Body Injection")]),t._v("; parses the request body and injects it into the attribute. The injection type is "),e("code",[t._v("body")]),t._v(", and "),e("code",[t._v("${key}")]),t._v(" is not needed. The framework automatically determines the format (e.g., JSON, XML) based on "),e("code",[t._v("Content-Type")]),t._v(". Only one "),e("strong",[t._v("body injection")]),t._v(" is allowed per request handler.")])]),t._v(" "),e("tr",[e("td",[e("strong",[t._v("Single Value Header Injection")])]),t._v(" "),e("td",[t._v("number | string")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("header")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Defaults to field name")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Retrieves the request header with the key "),e("code",[t._v("${key}")]),t._v(". Attribute types support "),e("code",[t._v("string")]),t._v(", "),e("code",[t._v("int")]),t._v(", "),e("code",[t._v("uint")]),t._v(", "),e("code",[t._v("float64")]),t._v(", etc. If parsing fails, an argument error is returned.")])]),t._v(" "),e("tr",[e("td",[e("strong",[t._v("URL Parameter Injection")])]),t._v(" "),e("td",[t._v("number | string")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("param")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Defaults to field name")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Retrieves the URL parameter with the key "),e("code",[t._v("${key}")]),t._v(" using "),e("code",[t._v("ctx.Param(key)")]),t._v(". Attribute types support "),e("code",[t._v("string")]),t._v(", "),e("code",[t._v("int")]),t._v(", "),e("code",[t._v("uint")]),t._v(", "),e("code",[t._v("float64")]),t._v(", etc. If parsing fails, an argument error is returned.")])]),t._v(" "),e("tr",[e("td",[e("strong",[t._v("Query Parameter Injection")])]),t._v(" "),e("td",[t._v("number | string | []number | []string | Struct | Struct Pointer")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("query")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Defaults to field name")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Retrieves the query parameter with the key "),e("code",[t._v("${key}")]),t._v(" using "),e("code",[t._v("ctx.Query(key)")]),t._v(". Attribute types support "),e("code",[t._v("string")]),t._v(", "),e("code",[t._v("int")]),t._v(", "),e("code",[t._v("uint")]),t._v(", "),e("code",[t._v("float64")]),t._v(", etc., and "),e("strong",[t._v("supports arrays"),e("sup",[t._v("[1]")])]),t._v(". If parsing fails, an argument error is returned.")])]),t._v(" "),e("tr",[e("td",[e("strong",[t._v("Cookie Injection")])]),t._v(" "),e("td",[t._v("number | string")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("cookie")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Defaults to field name")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Retrieves the cookie with the key "),e("code",[t._v("${key}")]),t._v(" using "),e("code",[t._v("ctx.Context.Cookie(key)")]),t._v(". Attribute types support "),e("code",[t._v("string")]),t._v(", "),e("code",[t._v("int")]),t._v(", "),e("code",[t._v("uint")]),t._v(", "),e("code",[t._v("float64")]),t._v(", etc. If parsing fails, an argument error is returned.")])])])]),t._v(" "),e("h2",{attrs:{id:"notes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#notes"}},[t._v("#")]),t._v(" Notes")]),t._v(" "),e("p",[t._v("[1]. Query parameter injection supports arrays. For example:\nIf the query is "),e("code",[t._v("?select=1&select=2&select=3")]),t._v(", the value of "),e("code",[t._v("in.selects")]),t._v(" in the code below will be "),e("code",[t._v("[]int{1,2,3}")]),t._v(".")]),t._v(" "),e("div",{staticClass:"language-go extra-class"},[e("pre",{pre:!0,attrs:{class:"language-go"}},[e("code",[t._v("router"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("GET")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/search"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("in "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    selects "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('`gone:"http,query=select"`')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// The injected value of in.selects will be `[]int{1,2,3}`")]),t._v("\n    fmt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Printf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%v"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" in"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("selects"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);e.default=a.exports}}]);