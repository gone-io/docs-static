(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{302:function(t,n,s){t.exports=s.p+"assets/img/logo.6282e761.png"},303:function(t,n,s){t.exports=s.p+"assets/img/architecture.3d5c53ee.png"},304:function(t,n,s){t.exports=s.p+"assets/img/qr_dapeng.6188b476.png"},336:function(t,n,s){"use strict";s.r(n);var a=s(10),e=Object(a.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),n("img",{attrs:{src:s(302),width:"300",alt:"logo"}}),t._v(" "),n("h2",{attrs:{id:"gone是什么"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gone是什么"}},[t._v("#")]),t._v(" Gone是什么")]),t._v(" "),n("p",[t._v("首先，Gone是Golang的一个轻量级的"),n("strong",[t._v("依赖注入框架")]),t._v("，关于为什么需要依赖注入，我之前写了一篇文章如果感兴趣可以看看："),n("a",{attrs:{href:"https://blog.csdn.net/waitdeng/article/details/138972583",target:"_blank",rel:"noopener noreferrer"}},[t._v("为什么我们需要依赖注入？ - “拒绝喝牛奶从种草养牛开始”"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("p",[t._v("其次，基于"),n("strong",[t._v("Gone")]),t._v("的依赖注入机制，我们开发了一系列组件，比如"),n("code",[t._v("goner/config")]),t._v("和"),n("code",[t._v("goner/viper")]),t._v("可以用于读取配置文件，"),n("code",[t._v("goner/xorm")]),t._v("和"),n("code",[t._v("goner/gorm")]),t._v("可以用于访问数据库，"),n("code",[t._v("goner/gin")]),t._v("可以用于提供web服务，"),n("code",[t._v("goner/grpc")]),t._v("和"),n("code",[t._v("goner/urllib")]),t._v("可以用于调用RPC服务，"),n("code",[t._v("goner/logrus")]),t._v("和"),n("code",[t._v("goner/zap")]),t._v("可以用于日志输出...")]),t._v(" "),n("p",[t._v("最后，为了减少模式代码编写、测试、编译、运行，我们开发了一个命令行工具："),n("a",{attrs:{href:"https://github.com/gone-io/gonectr",target:"_blank",rel:"noopener noreferrer"}},[t._v("gonectr"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("h2",{attrs:{id:"特性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#特性"}},[t._v("#")]),t._v(" 特性")]),t._v(" "),n("ul",[n("li",[t._v("依赖注入，支持对 "),n("strong",[t._v("结构体属性")]),t._v(" 和 "),n("strong",[t._v("函数参数")]),t._v(" 的自动注入")]),t._v(" "),n("li",[t._v("Gonectr，生成项目、生成辅助代码、编译和启动项目")]),t._v(" "),n("li",[t._v("单元测试方案，基于接口的mock测试")]),t._v(" "),n("li",[t._v("多种组件，可插拔，支持云原生、微服务\n"),n("img",{attrs:{src:s(303),width:"600",alt:"architecture"}})])]),t._v(" "),n("h2",{attrs:{id:"例子"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#例子"}},[t._v("#")]),t._v(" 例子")]),t._v(" "),n("p",[t._v("下面使用"),n("strong",[t._v("Gone")]),t._v("来编写一个简单的Web服务，更多例子在"),n("a",{attrs:{href:"https://goner.fun/zh/quick-start/",target:"_blank",rel:"noopener noreferrer"}},[t._v("快速开始"),n("OutboundLink")],1),t._v(" 和 "),n("a",{attrs:{href:"https://github.com/gone-io/gone/tree/main/example",target:"_blank",rel:"noopener noreferrer"}},[t._v("example"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("div",{staticClass:"language-go extra-class"},[n("pre",{pre:!0,attrs:{class:"language-go"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" main\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fmt"')]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"github.com/gone-io/gone"')]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"github.com/gone-io/gone/goner"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 实现一个Goner，什么是Goner？ => https://goner.fun/zh/guide/core-concept.html#goner-%E9%80%9D%E8%80%85")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" controller "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tgone"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Flag                  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//goner 标记，匿名嵌入后，一个结构体就实现了Goner")]),t._v("\n\tgone"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("RouteGroup "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`gone:"*"`')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//注入根路由")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Mount 用于挂载路由；框架会自动执行该方法")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("controller"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Mount")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" gone"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GinMountError "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义请求结构体")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Req "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tMsg "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"msg"`')]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//注册 `POST /hello` 的 处理函数")]),t._v("\n\tctr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("POST")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/hello"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("in "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\tto  "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`gone:"http,query"`')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//注入http请求Query参数To")]),t._v("\n\t\t\treq "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("Req   "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`gone:"http,body"`')]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//注入http请求Body")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" any "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" fmt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Sprintf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"to %s msg is: %s"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" in"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" in"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("GET")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/hello"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tgone"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\t\tDefault"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("LoadPriest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("goner"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GinPriest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//加载 `goner/gin` 用于提供web服务")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Load")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("controller"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("         "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//加载我们前面定义的controller")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Serve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("                      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 启动服务")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("运行上面代码："),n("code",[t._v("go run main.go")]),t._v("，程序将监听"),n("code",[t._v("8080")]),t._v("端口，使用curl测试：")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-X")]),t._v(" POST "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8080/hello?to=Tom'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-H")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type: application/json'")]),t._v(" --data-raw "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"msg": "hello"}\'')]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# 结果：{"code":0,"data":"to Tom msg is: hello"}')]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8080/hello'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# 结果： {"code":0,"data":"hello"}')]),t._v("\n")])])]),n("p",[t._v("了解更多，请阅读 "),n("a",{attrs:{href:"https://goner.fun/zh/guide/",target:"_blank",rel:"noopener noreferrer"}},[t._v("开发指南"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"关于logo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#关于logo"}},[t._v("#")]),t._v(" 关于Logo")]),t._v(" "),n("p",[t._v("Golang的吉祥物是一只可爱的地鼠，Gone的Logo是从它衍生出来，加上翅膀加上光圈，是一只天使地鼠，我们感觉这很复活Gone鬼故事的气质。")]),t._v(" "),n("h2",{attrs:{id:"联系方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#联系方式"}},[t._v("#")]),t._v(" 联系方式")]),t._v(" "),n("p",[t._v("如果您有任何问题，欢迎通过以下方式联系我们：")]),t._v(" "),n("ul",[n("li",[n("p",[n("a",{attrs:{href:"https://github.com/gone-io/gone/discussions",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github 讨论"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[t._v("扫码加微信，暗号：gone")]),t._v(" "),n("img",{attrs:{src:s(304),width:"250",alt:"dapeng wx qr code"}})])])])}),[],!1,null,null,null);n.default=e.exports}}]);