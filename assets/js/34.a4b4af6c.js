(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{324:function(t,e,a){"use strict";a.r(e);var s=a(10),n=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"goneçš„æ ¸å¿ƒæ¦‚å¿µ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#goneçš„æ ¸å¿ƒæ¦‚å¿µ"}},[t._v("#")]),t._v(" Goneçš„æ ¸å¿ƒæ¦‚å¿µ")]),t._v(" "),e("p",[t._v("â€œæˆ‘ä»¬ç¼–å†™çš„ä»£ç ï¼Œç»ˆç©¶åªæ˜¯æ­»ç‰©ï¼Œé™¤éä»–åœ¨"),e("strong",[t._v("å¤©å›½")]),t._v("è¢«"),e("strong",[t._v("å¤æ´»")]),t._v("ï¼Œä¸ºæ­¤æˆ‘ä»¬éœ€è¦å°†ä»–"),e("strong",[t._v("åŸ‹è‘¬")]),t._v("åœ¨"),e("strong",[t._v("å¢“å›­")]),t._v("ã€‚â€")]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#goner-é€è€…"}},[t._v("Gonerï¼ˆé€è€…ï¼‰")]),e("ul",[e("li",[e("a",{attrs:{href:"#ğŸ”®prophet-å…ˆçŸ¥"}},[t._v("ğŸ”®Prophetï¼ˆå…ˆçŸ¥ï¼‰")])]),e("li",[e("a",{attrs:{href:"#ğŸ˜‡angel-å¤©ä½¿"}},[t._v("ğŸ˜‡Angelï¼ˆå¤©ä½¿ï¼‰")])]),e("li",[e("a",{attrs:{href:"#ğŸ§›ğŸ»â€â™€ï¸vampire-å¸è¡€é¬¼"}},[t._v("ğŸ§›ğŸ»â€â™€ï¸Vampireï¼ˆå¸è¡€é¬¼ï¼‰")])])])]),e("li",[e("a",{attrs:{href:"#cemetery-å¢“å›­"}},[t._v("Cemeteryï¼ˆå¢“å›­ï¼‰")]),e("ul",[e("li",[e("a",{attrs:{href:"#bury-åŸ‹è‘¬"}},[t._v("Buryï¼ˆåŸ‹è‘¬ï¼‰")])]),e("li",[e("a",{attrs:{href:"#revive-å¤æ´»"}},[t._v("reviveï¼ˆå¤æ´»ï¼‰")])])])]),e("li",[e("a",{attrs:{href:"#heaven-å¤©å›½"}},[t._v("Heavenï¼ˆå¤©å›½ï¼‰")])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"goner-é€è€…"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#goner-é€è€…"}},[t._v("#")]),t._v(" Gonerï¼ˆé€è€…ï¼‰")]),t._v(" "),e("p",[t._v("åœ¨Goneæ¡†æ¶ä¸­ï¼Œæœ€åŸºæœ¬çš„å®šä¹‰å’Œæœ€æ ¸å¿ƒçš„æ¦‚å¿µå°±æ˜¯ Gonerï¼Œ"),e("strong",[t._v("Goner æ˜¯æŒ‡çš„åŒ¿ååµŒå…¥äº† "),e("code",[t._v("gone.Flag")]),t._v(" çš„ç»“æ„ä½“")]),t._v("ã€‚ä¸¾ä¸ªä¾‹å­ï¼š")]),t._v(" "),e("div",{staticClass:"language-go extra-class"},[e("pre",{pre:!0,attrs:{class:"language-go"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Worker "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tgone"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Flag\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("Goneræ˜¯Goneæ¡†æ¶ä¸­çš„ç»„ä»¶ï¼Œæ˜¯å®ç°ä¾èµ–æ³¨å…¥çš„å…³é”®ï¼š")]),t._v(" "),e("ol",[e("li",[t._v("Gonerå¯ä»¥ä½œä¸ºå±æ€§è¢«æ³¨å…¥åˆ°å…¶ä»–ç»“æ„ä½“")]),t._v(" "),e("li",[t._v("Gonerçš„å±æ€§å¯ä»¥è¢«å…¶ä»–ç±»å‹æ³¨å…¥")])]),t._v(" "),e("p",[t._v("ä¸ºä»€ä¹ˆéœ€è¦å†…åµŒä¸€ä¸ª "),e("code",[t._v("gone.Flag")]),t._v("ï¼Ÿæ˜¯å› ä¸ºæˆ‘ä»¬å¸Œæœ›é™åˆ¶ä¾èµ–æ³¨å…¥çš„èŒƒå›´ï¼Œè®©ä¾èµ–æ³¨å…¥åªå‘ç”Ÿåœ¨Gonersä¹‹é—´ï¼Œè®©Goneæ¡†æ¶çš„ç»„ä»¶å®ç°æœ‰ä¸€ä¸ªç»Ÿä¸€çš„æ¨¡å¼ã€‚")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),e("p",[t._v("ä¸‹é¢æ˜¯Gonerå’Œgone.Flagçš„æºä»£ç ï¼š")]),t._v(" "),e("div",{staticClass:"language-go extra-class"},[e("pre",{pre:!0,attrs:{class:"language-go"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Flag "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("g "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("Flag"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("goneFlag")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Goner é€è€…")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Goner "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("goneFlag")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("Gonerä½œä¸ºæ¥å£ï¼Œè¦æ±‚å®ç°å®ƒçš„â€œå¯¹è±¡â€æ‹¥æœ‰ä¸€ä¸ªç§æœ‰çš„æ–¹æ³•"),e("code",[t._v("goneFlag()")]),t._v("ï¼›ç”±äºgoè¯­è¨€å¯è§æ€§çš„é™åˆ¶ï¼Œä¸èƒ½åœ¨"),e("code",[t._v("github.com/gone-io/gone")]),t._v("ä»¥å¤–çš„åŒ…ä¸­å®ç°å…¶å†…éƒ¨å®šä¹‰çš„ç§æœ‰æ–¹æ³•ï¼›ä¸€ä¸ªç»“æ„ä½“è¦æˆä¸ºGonerï¼Œåªèƒ½é€šè¿‡å†…åµŒ"),e("code",[t._v("gone.Flag")]),t._v("æ‰èƒ½â€œç»§æ‰¿â€ç§æœ‰çš„æ–¹æ³•"),e("code",[t._v("goneFlag()")]),t._v("ã€‚è¿™æ®µè¯å¯èƒ½æœ‰äº›ä¸å¥½ç†è§£ï¼Œå…¶å®å°±æ˜¯è¯´Gonerçš„å®ç°åªèƒ½é€šè¿‡å†…åµŒgone.Flagæ¥å®Œæˆï¼Œä¸èƒ½é€šè¿‡å®ç°"),e("code",[t._v("goneFlag()")]),t._v("æ–¹æ³•æ¥å®Œæˆã€‚")])]),t._v(" "),e("p",[t._v("åœ¨Goneæ¡†æ¶ä¸­ï¼Œè¿˜åŒ…å«äº†ä¸‰ç±»ç‰¹æ®Šçš„Gonerï¼Œå®šä¹‰å¦‚ä¸‹ï¼š")]),t._v(" "),e("h3",{attrs:{id:"ğŸ”®prophet-å…ˆçŸ¥"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”®prophet-å…ˆçŸ¥"}},[t._v("#")]),t._v(" ğŸ”®Prophetï¼ˆå…ˆçŸ¥ï¼‰")]),t._v(" "),e("p",[t._v("ä¸€ç§ç‰¹æ®Šçš„ "),e("strong",[t._v("Goner")]),t._v("ï¼Œåœ¨æ™®é€š "),e("strong",[t._v("Goner")]),t._v(" ä¸Šå®ç°äº† "),e("strong",[e("code",[t._v("AfterRevive() AfterReviveError")])]),t._v(" æ–¹æ³•å°±æ˜¯ "),e("strong",[t._v("Prophetï¼ˆå…ˆçŸ¥ï¼‰")]),t._v("ï¼›"),e("strong",[t._v("AfterRevive")]),t._v(" ä¼šåœ¨ "),e("strong",[t._v("Goner")]),t._v(" è¢«å¤æ´»åè¢«æ‰§è¡Œã€‚")]),t._v(" "),e("p",[t._v("Prophetæ¥å£å®šä¹‰å¦‚ä¸‹ï¼š")]),t._v(" "),e("div",{staticClass:"language-go extra-class"},[e("pre",{pre:!0,attrs:{class:"language-go"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Prophet  å…ˆçŸ¥")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Prophet "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tGoner\n\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//AfterRevive åœ¨Gonerå¤æ´»åä¼šè¢«æ‰§è¡Œ")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("AfterRevive")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" AfterReviveError\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h3",{attrs:{id:"ğŸ˜‡angel-å¤©ä½¿"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ˜‡angel-å¤©ä½¿"}},[t._v("#")]),t._v(" ğŸ˜‡Angelï¼ˆå¤©ä½¿ï¼‰")]),t._v(" "),e("p",[t._v("ä¸€ç§ç‰¹æ®Šçš„ "),e("strong",[t._v("Goner")]),t._v("ï¼Œæ‹¥æœ‰å¤©ä½¿å·¦ç¿¼"),e("code",[t._v("Start(Cemetery) error")]),t._v(" å’Œ å¤©ä½¿å³ç¿¼"),e("code",[t._v("Stop(Cemetery) error")]),t._v("ï¼Œå·¦ç¿¼è´Ÿè´£ç”Ÿï¼ˆç”¨äºåˆ†é…èµ„æºï¼Œå¯åŠ¨æŸé¡¹æœåŠ¡ï¼‰ï¼Œå³ç¿¼è´Ÿè´£æ­»ï¼ˆç”¨äºç»ˆæ­¢æŸé¡¹æœåŠ¡ï¼Œå›æ”¶èµ„æºï¼‰ã€‚")]),t._v(" "),e("p",[t._v("Angelæ¥å£å®šä¹‰å¦‚ä¸‹ï¼š")]),t._v(" "),e("div",{staticClass:"language-go extra-class"},[e("pre",{pre:!0,attrs:{class:"language-go"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Angel "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tGoner\n\t"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Start")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Cemetery"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Stop")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Cemetery"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h3",{attrs:{id:"ğŸ§›ğŸ»â€â™€ï¸vampire-å¸è¡€é¬¼"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§›ğŸ»â€â™€ï¸vampire-å¸è¡€é¬¼"}},[t._v("#")]),t._v(" ğŸ§›ğŸ»â€â™€ï¸Vampireï¼ˆå¸è¡€é¬¼ï¼‰")]),t._v(" "),e("p",[t._v("ä¸€ç§ç‰¹æ®Šçš„ "),e("strong",[t._v("Goner")]),t._v("ï¼Œæ‹¥æœ‰ç‰¹æ®Šèƒ½åŠ›â€”â€”å¸è¡€"),e("code",[t._v("Suck(conf string, v reflect.Value) SuckError")]),t._v("ã€‚"),e("strong",[t._v("Suck")]),t._v("å¯ä»¥å°†ä¸æ˜¯"),e("strong",[t._v("Goner")]),t._v("çš„å€¼èµ‹äºˆæ³¨å…¥ç»™Gonerå±æ€§ã€‚")]),t._v(" "),e("p",[t._v("Vampireæ¥å£å®šä¹‰å¦‚ä¸‹ï¼š")]),t._v(" "),e("div",{staticClass:"language-go extra-class"},[e("pre",{pre:!0,attrs:{class:"language-go"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" SuckError "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Vampire "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tGoner\n\t"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Suck")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("conf "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" v reflect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SuckError\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"cemetery-å¢“å›­"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cemetery-å¢“å›­"}},[t._v("#")]),t._v(" Cemeteryï¼ˆå¢“å›­ï¼‰")]),t._v(" "),e("p",[t._v("Cemeteryç”¨äºç®¡ç†Gonersï¼Œä¸»è¦æä¾›Buryï¼ˆåŸ‹è‘¬ï¼‰å’Œ reviveï¼ˆå¤æ´»ï¼‰çš„æ–¹æ³•ï¼Œå…¶æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š")]),t._v(" "),e("div",{staticClass:"language-go extra-class"},[e("pre",{pre:!0,attrs:{class:"language-go"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Cemetery "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... å…¶ä»–æ–¹æ³•")]),t._v("\n\tGoner\n\t"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Bury")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Goner"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("GonerId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Cemetery  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åŸ‹è‘¬ï¼Œå°†é€è€…åŸ‹è‘¬åˆ°å¢“å›­")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("revive")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¤æ´»ï¼Œå¯¹é€è€…è¿›è¡Œå¤æ´»ï¼Œè®©ä»–ä»¬å‡å…¥å¤©å ‚")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("ä»ä»£ç ä¸Šå¯ä»¥çœ‹åˆ°Cemeteryæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªGonerï¼Œåœ¨Goneæ¡†æ¶å¯åŠ¨æ—¶ä»–ä¼šè¢«è‡ªåŠ¨åŸ‹è‘¬å’Œå¤æ´»ã€‚")]),t._v(" "),e("h3",{attrs:{id:"bury-åŸ‹è‘¬"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bury-åŸ‹è‘¬"}},[t._v("#")]),t._v(" Buryï¼ˆåŸ‹è‘¬ï¼‰")]),t._v(" "),e("p",[t._v("Cemeteryä¸Šçš„å…¬å¼€æ–¹æ³•ï¼Œé€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼ŒPriestå‡½æ•°å¯ä»¥å°†GoneråŸ‹è‘¬åˆ°å¢“å›­ï¼ˆå°±æ˜¯å°†ç»„ä»¶æ”¾åˆ°ä¾èµ–æ³¨å…¥ç³»ç»Ÿç”¨äºæ³¨å…¥æˆ–è€…è¢«æ³¨å…¥ï¼‰ã€‚")]),t._v(" "),e("h3",{attrs:{id:"revive-å¤æ´»"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#revive-å¤æ´»"}},[t._v("#")]),t._v(" reviveï¼ˆå¤æ´»ï¼‰")]),t._v(" "),e("p",[t._v("åœ¨goneä¸­ï¼Œä¾èµ–æ³¨å…¥çš„å…·ä½“å·¥ç¨‹è¢«ç§°ä¸ºå¤æ´»ï¼Œå³å¯¹ä¸€ä¸ªGonerä¸Šéœ€è¦æ³¨å…¥çš„å±æ€§å®Œæ•´ç»„è£…ï¼Œå°†å¯¹åº”çš„å€¼èµ‹ç»™å¯¹åº”çš„å±æ€§ã€‚reviveï¼ˆå¤æ´»ï¼‰è¢«å®šä¹‰ä¸€ä¸ªç§æœ‰æ–¹æ³•ï¼Œåªèƒ½è¢«Heavenï¼ˆå¤©å›½ï¼‰è°ƒç”¨ï¼Œå› ä¸ºå¤æ´»æ˜¯åœ¨å¤©å›½ä¸‹å®Œæˆçš„ã€‚")]),t._v(" "),e("h2",{attrs:{id:"heaven-å¤©å›½"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#heaven-å¤©å›½"}},[t._v("#")]),t._v(" Heavenï¼ˆå¤©å›½ï¼‰")]),t._v(" "),e("p",[t._v("Heavenï¼ˆå¤©å›½ï¼‰ä»£è¡¨äº†ä¸€ä¸ªGoneç¨‹åºï¼Œç”¨äºç®¡ç†ç¨‹åºçš„å¯åŠ¨ã€åœæ­¢ç­‰çŠ¶æ€å’Œæµç¨‹ï¼ˆå¤æ´»åœ¨å¯åŠ¨å‰å®Œæˆï¼‰ï¼Œç”¨äºåœ¨å¯åŠ¨å‰åä»¥åŠç¨‹åºåœæ­¢å‰æ‰§è¡Œä¸€äº›hookä»»åŠ¡ã€‚")])])}),[],!1,null,null,null);e.default=n.exports}}]);